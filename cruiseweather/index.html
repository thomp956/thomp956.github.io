<!DOCTYPE html>

<html>
<head>
	<title>WEATHER</title>
	<script src="js/jquery.js"></script>
	<script src="js/sugar.min.js"></script>
	<script src="js/weather.min.js"></script>
	<script>
		// DAY ONE
		$.ajax({
	      url: 'http://api.openweathermap.org/data/2.5/forecast/daily',
	      jsonp: 'callback',
	      dataType: 'jsonp',
	      async: false,
	      cache: false,
	      tryCount: 0,
	      retryLimit: 3,
	      data: {
	        q: 'Fort Lauderdale, US',
	        units: 'imperial',
	        cnt: '14',
	        appid: '83a52f4c5f3c592fcbd3ecb632762fa9'
	      },
	      error: function (){
	      	this.tryCount++;
	      	if(this.tryCount <= retryLimit){
	      		$.ajax(this);
	      		return;
	      	}
	      	return;
	      },
	      // work with the response
	      success: function (response) {
	        //alert(response.list[0].weather[0].description);
	        $.each(response.list, function(r, l) {
	        	// Look for Saturday
	        	if(l.dt == 1457197200){
	        		$("#1").html("Forecast: " + l.weather[0].description + "<br><img width=125 src='http://openweathermap.org/img/w/" + l.weather[0].icon + ".png'></img>"+ "<br>High: " + l.temp.max + "<br>Low: " + l.temp.min);
	        		return;
	        	}
	        });
	      },
	    });

		//DAY FOUR
		$.ajax({
	      url: 'http://api.openweathermap.org/data/2.5/forecast/daily',
	      jsonp: 'callback',
	      dataType: 'jsonp',
	      async: false,
	      cache: false,
	      tryCount: 0,
	      retryLimit: 3,
	      data: {
	        q: 'Philipsburg, SX',
	        units: 'imperial',
	        cnt: '16',
	        appid: '83a52f4c5f3c592fcbd3ecb632762fa9'
	      },
	      error: function (){
	      	this.tryCount++;
	      	if(this.tryCount <= retryLimit){
	      		$.ajax(this);
	      		return;
	      	}
	      	return;
	      },
	      // work with the response
	      success: function (response) {
	        //console.log(response.weather[0].description);
	        $.each(response.list, function(r, l) {
	        	// Look for Tuesday
	        	if(l.dt > 1457395200 && l.dt < 1457481600){
	        		$("#4").html("Forecast: " + l.weather[0].description + "<br><img width=125 src='http://openweathermap.org/img/w/" + l.weather[0].icon + ".png'></img>"+ "<br>High: " + l.temp.max + "<br>Low: " + l.temp.min);
	        		return;
	        	}
	        });
	      },
	    });

		//DAY FIVE
		$.ajax({
	      url: 'http://api.openweathermap.org/data/2.5/forecast/daily',
	      jsonp: 'callback',
	      dataType: 'jsonp',
	      async: false,
	      cache: false,
	      tryCount: 0,
	      retryLimit: 3,
	      data: {
	        q: 'Saint Kitts',
	        units: 'imperial',
	        cnt: '16',
	        appid: '83a52f4c5f3c592fcbd3ecb632762fa9'
	      },
	      error: function (){
	      	this.tryCount++;
	      	if(this.tryCount <= retryLimit){
	      		$.ajax(this);
	      		return;
	      	}
	      	return;
	      },
	      // work with the response
	      success: function (response) {
	        //console.log(response.weather[0].description);
	        $.each(response.list, function(r, l) {
	        	// Look for Wednesday
	        	if(l.dt > 1457481600 && l.dt < 1457568000){
	        		$("#5").html("Forecast: " + l.weather[0].description + "<br><img width=125 src='http://openweathermap.org/img/w/" + l.weather[0].icon + ".png'></img>"+ "<br>High: " + l.temp.max + "<br>Low: " + l.temp.min);
	        		return;
	        	}
	        });
	      },
	    });

	    //DAY SIX
	    $.ajax({
	      url: 'http://api.openweathermap.org/data/2.5/forecast/daily',
	      jsonp: 'callback',
	      dataType: 'jsonp',
	      async: false,
	      cache: false,
	      tryCount: 0,
	      retryLimit: 3,
	      data: {
	        q: 'San Juan',
	        units: 'imperial',
	        cnt: '16',
	        appid: '83a52f4c5f3c592fcbd3ecb632762fa9'
	      },
	      error: function (){
	      	this.tryCount++;
	      	if(this.tryCount <= retryLimit){
	      		$.ajax(this);
	      		return;
	      	}
	      	return;
	      },
	      // work with the response
	      success: function (response) {
	        //console.log(response.weather[0].description);
	        $.each(response.list, function(r, l) {
	        	// Look for Thursday
	        	if(l.dt > 1457568000 && l.dt < 1457654400){
	        		$("#6").html("Forecast: " + l.weather[0].description + "<br><img width=125 src='http://openweathermap.org/img/w/" + l.weather[0].icon + ".png'></img>"+ "<br>High: " + l.temp.max + "<br>Low: " + l.temp.min);
	        		return;
	        	}
	        });
	      },
	    });

	    //DAY SEVEN
	    $.ajax({
	      url: 'http://api.openweathermap.org/data/2.5/forecast/daily',
	      jsonp: 'callback',
	      dataType: 'jsonp',
	      async: false,
	      cache: false,
	      tryCount: 0,
	      retryLimit: 3,
	      data: {
	        q: 'Grand Turk',
	        units: 'imperial',
	        cnt: '16',
	        appid: '83a52f4c5f3c592fcbd3ecb632762fa9'
	      },
	      error: function (){
	      	this.tryCount++;
	      	if(this.tryCount <= retryLimit){
	      		$.ajax(this);
	      		return;
	      	}
	      	return;
	      },
	      // work with the response
	      success: function (response) {
	        //console.log(response.weather[0].description);
	        $.each(response.list, function(r, l) {
	        	// Look for Friday
	        	if(l.dt > 1457654400 && l.dt < 1457740800){
	        		$("#7").html("Forecast: " + l.weather[0].description + "<br><img width=125 src='http://openweathermap.org/img/w/" + l.weather[0].icon + ".png'></img>"+ "<br>High: " + l.temp.max + "<br>Low: " + l.temp.min);
	        		return;
	        	}
	        });
	      },
	    });

	</script>
</head>
<body>
	<h1>Cruise Weather</h1>

	<h2>Day 1: Fort Lauderdale</h2>
	<div id="1"></div>

	<h2>Day 4: Philipsburg/St.Marteen</h2>
	<div id="4"></div>

	<h2>Day 5: Saint Kitts</h2>
	<div id="5"></div>

	<h2>Day 6: San Juan</h2>
	<div id="6"></div>

	<h2>Day 7: Grand Turk</h2>
	<div id="7"></div>


</body>


</html>